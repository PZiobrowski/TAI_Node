<div class="flex">
  <input type="file" class="file-input" (change)="onFileSelected($event)" #fileUpload>

  <div class="file-upload">
    {{fileName || "Brak pliku"}}
    <button mat-mini-fab color="primary" (click)="fileUpload.click()">
        <mat-icon>attach_file</mat-icon>
    </button>

    <button mat-mini-fab color="warn" class="delete-btn" (click)="onDeleteFile()">
      <mat-icon>delete_forever</mat-icon>
  </button>
  </div>
</div>

<div class="flex margin">
  <button mat-raised-button color="primary" [disabled]="loading$ | async" (click)="upload()">
    Upload bez szyfrowania
  </button>
  <button mat-raised-button color="primary" [disabled]="(fileUploaded$ | async) === false" (click)="download()">
    Pobierz plik z serwera
  </button>
</div>

<div class="algorithms">
  
  <mat-card class="actions">
    <mat-card-header class="flex">
      <mat-card-title>AES256</mat-card-title>
    </mat-card-header>

    <button mat-raised-button color="primary" [disabled]="loading$ | async" (click)="encryptAES()">
      Szyfrowanie całościowe
    </button>

    <button mat-raised-button color="primary" [disabled]="loading$ | async" (click)="streamEncryptAES()">
      Szyfrowanie strumieniowe
    </button>

    <button mat-raised-button color="primary" [disabled]="loading$ | async" (click)="decryptAES()">
      Deszyfrowanie całościowe
    </button>

    <button mat-raised-button color="primary" [disabled]="loading$ | async" (click)="streamDecryptAES()">
      Deszyfrowanie strumieniowe
    </button>

  </mat-card>

  <mat-card class="actions">
    <mat-card-header class="flex">
      <mat-card-title>RSA2048</mat-card-title>
    </mat-card-header>

    <button mat-raised-button color="primary" [disabled]="loading$ | async" (click)="encryptRSA()">
      Szyfrowanie całościowe
    </button>

    <button mat-raised-button color="primary" [disabled]="loading$ | async" (click)="streamEncryptRSA()">
      Szyfrowanie strumieniowe
    </button>

    <button mat-raised-button color="primary" [disabled]="loading$ | async" (click)="decryptRSA()">
      Deszyfrowanie całościowe
    </button>
    
    <button mat-raised-button color="primary" [disabled]="loading$ | async" (click)="streamDecryptRSA()">
      Deszyfrowanie strumieniowe
    </button>
  </mat-card>

</div>
